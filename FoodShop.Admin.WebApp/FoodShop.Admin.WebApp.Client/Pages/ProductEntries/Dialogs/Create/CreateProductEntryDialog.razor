@using MudBlazor
@using FoodShop.Admin.WebApp.Client.Components;
@inherits CreateProductEntryDialogBase



<MudBlazor.MudDialog>


    <DialogContent>

        <EditForm Model="CreateModel" OnSubmit="Create" @ref="_editForm">

            <DataAnnotationsValidator></DataAnnotationsValidator>
            <ValidationSummary></ValidationSummary>

            <MudPaper Class="d-flex flex-column p-5 mb-2" Elevation="0">

                <MudTextField @bind-Value="CreateModel.SKU" Label="SKU" Variant="Variant.Text"></MudTextField>

                <MudTextField @bind-Value="CreateModel.Quantity" Label="Quantity" Variant="Variant.Text"></MudTextField>

                <MudTextField @bind-Value="CreateModel.Price" Label="Price" Variant="Variant.Text"></MudTextField>

                <FormImageUploadSection @bind-SelectedImage="SelectedFile" ImageData="@ImageData"> </FormImageUploadSection>

                <MudSelect T="Guid" MultiSelection="false" Label="Product" Variant="Variant.Filled" @bind-Value="CreateModel.ProductId">
                        @if (Products != null)
                        @foreach (var product in Products)
                        {
                        <MudSelectItem T="Guid" Label="Product" HelperText="Pick the Product" Value="product.Id">
                            @product.Name
                        </MudSelectItem>    
                        }
                </MudSelect>


            </MudPaper>

        </EditForm>

    </DialogContent>



    <DialogActions>
        <MudBlazor.MudButton @onclick="Create" Color="MudBlazor.Color.Success">Create</MudBlazor.MudButton>
        <MudBlazor.MudButton @onclick="Cancel" Color="MudBlazor.Color.Error">Cancel</MudBlazor.MudButton>
    </DialogActions>

</MudBlazor.MudDialog>



